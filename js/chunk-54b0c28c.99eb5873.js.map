{"version":3,"sources":["webpack:///./src/components/dashboard/layout/DashboardNavBar.vue?2e4f","webpack:///./src/views/dashboard/Admin_CheckLogin.vue","webpack:///./src/components/dashboard/layout/DashboardNavBar.vue","webpack:///./src/components/dashboard/layout/DashboardNavBar.vue?9598","webpack:///./src/views/dashboard/Admin_CheckLogin.vue?9ebe"],"names":["$data","_createElementBlock","_hoisted_1","_createVNode","_component_DashboardNavBar","_component_router_view","_component_Loading","active","$event","class","_createElementVNode","src","alt","width","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","_component_router_link","title","to","_hoisted_3","_hoisted_4","onClick","$options","_hoisted_8","data","page","methods","currentPage","this","document","querySelector","classList","remove","setTimeout","add","logOut","api","process","$http","post","then","res","$httpMessageState","success","cookie","$router","push","catch","err","__exports__","components","DashboardNavBar","status","isLoading","checkLogin","JSON","parse","localStorage","getItem","token","replace","defaults","headers","common","Authorization","mounted","render"],"mappings":"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","file":"js/chunk-54b0c28c.99eb5873.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./DashboardNavBar.vue?vue&type=style&index=0&id=6242dde7&lang=scss&scoped=true\"","<template>\r\n<div  v-if=\"status\">\r\n    <DashboardNavBar />\r\n    <router-view />\r\n</div>\r\n  <Loading v-model:active=\"isLoading\" />\r\n</template>\r\n\r\n<script>\r\nimport DashboardNavBar from '@/components/dashboard/layout/DashboardNavBar.vue'\r\nexport default {\r\n  components: {\r\n    DashboardNavBar\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      status: false,\r\n      isLoading: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    checkLogin () {\r\n      const page = JSON.parse(localStorage.getItem('current_page')) || 'products'\r\n      this.isLoading = true\r\n      const token = document.cookie.replace(\r\n        /(?:(?:^|.*;\\s*)mizuToken\\s*=\\s*([^;]*).*$)|^.*$/,\r\n        '$1'\r\n      )\r\n      if (token) {\r\n        this.$http.defaults.headers.common.Authorization = token\r\n        const api = `${process.env.VUE_APP_API}/api/user/check`\r\n        this.$http\r\n          .post(api)\r\n          .then(() => {\r\n            this.isLoading = false\r\n            this.status = true\r\n            this.$router.push(`/admin/${page}`)\r\n          })\r\n          .catch(() => {\r\n            this.isLoading = false\r\n            this.$router.push('/login')\r\n          })\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.checkLogin()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-secondary bg-dark  fixed-top\">\r\n  <div class=\"container \">\r\n      <router-link class=\"navbar-brand logo\"  title=\"首頁\" to=\"/\"><img src=\"https://github.com/MizuYang/hexschool-Vue-week8/blob/main/src/assets/imageUrl/%E5%B0%88%E6%A1%88%E5%9C%96%E7%89%87/LOGO/%E6%A9%AB%E5%90%91LOGO.png?raw=true\" alt=\"小巷弄甜點的logo\" width=\"130\"></router-link>\r\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n      <span class=\"navbar-toggler-icon\">\r\n        <i class=\"bi bi-justify text-primary fs-1\"></i>\r\n      </span>\r\n    </button>\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n      <ul class=\"navbar-nav ms-auto mb-2 mb-lg-0 align-items-lg-center text-center\">\r\n        <li class=\"nav-item\">\r\n          <router-link to=\"/\" class=\"nav-link home me-4\" @click=\"currentPage('home')\">\r\n          <i class=\"bi bi-house-door\"></i>\r\n          前台</router-link>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <router-link to=\"/admin/products\" class=\"nav-link products me-4\" @click=\"currentPage('products')\">產品</router-link>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <router-link to=\"/admin/order\" class=\"nav-link order me-4\" @click=\"currentPage('order')\">訂單</router-link>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <router-link to=\"/admin/coupon\" class=\"nav-link coupon me-4\" @click=\"currentPage('coupon')\">優惠券</router-link>\r\n        </li>\r\n        <li class=\"nav-item me-4\">\r\n          <button\r\n              type=\"button\"\r\n              class=\"nav-link btn btn-lg\"\r\n              @click=\"logOut\"\r\n            >\r\n              登出\r\n            </button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      page: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    currentPage (page) {\r\n      if (this.page) {\r\n        document.querySelector(`.${this.page}`).classList.remove('currentPage')\r\n        this.page = ''\r\n      }\r\n      setTimeout(() => {\r\n        document.querySelector(`.${page}`).classList.add('currentPage')\r\n        this.page = page\r\n      }, 500)\r\n    },\r\n    logOut () {\r\n      const api = `${process.env.VUE_APP_API}/logout`\r\n      this.$http\r\n        .post(api)\r\n        .then((res) => {\r\n          this.$httpMessageState(res.data.success, '登出')\r\n          //* 清除 cookie\r\n          document.cookie = 'mizuToken=;expires=;'\r\n          this.$router.push('/login')\r\n        })\r\n        .catch((err) => {\r\n          this.$httpMessageState(err.success, '登出')\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.currentPage{\r\n  border-bottom: 3px solid #F1EBD8;\r\n}\r\n</style>\r\n","import { render } from \"./DashboardNavBar.vue?vue&type=template&id=6242dde7&scoped=true\"\nimport script from \"./DashboardNavBar.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardNavBar.vue?vue&type=script&lang=js\"\n\nimport \"./DashboardNavBar.vue?vue&type=style&index=0&id=6242dde7&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Mizu\\\\Desktop\\\\hexschool-Vue-week8 - 提交修改完成\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6242dde7\"]])\n\nexport default __exports__","import { render } from \"./Admin_CheckLogin.vue?vue&type=template&id=f42ca0fa\"\nimport script from \"./Admin_CheckLogin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin_CheckLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Mizu\\\\Desktop\\\\hexschool-Vue-week8 - 提交修改完成\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}