(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b890e20e"],{"00b4":function(e,t,c){"use strict";c("ac1f");var a=c("23e7"),o=c("da84"),n=c("c65b"),l=c("e330"),r=c("1626"),s=c("861d"),d=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),i=o.Error,u=l(/./.test);a({target:"RegExp",proto:!0,forced:!d},{test:function(e){var t=this.exec;if(!r(t))return u(this,e);var c=n(t,this,e);if(null!==c&&!s(c))throw new i("RegExp exec method returned something other than an Object or null");return!!c}})},4749:function(e,t,c){"use strict";c("7ebd")},"4bda":function(e,t,c){},"7ebd":function(e,t,c){},8310:function(e,t,c){},"8cf3":function(e,t,c){"use strict";c.r(t);var a=c("7a23"),o=function(e){return Object(a["pushScopeId"])("data-v-27d917a0"),e=e(),Object(a["popScopeId"])(),e},n={class:"container mt-8 mt-sm-10 mb-5"},l=o((function(){return Object(a["createElementVNode"])("h2",{class:"title text-center mb-5 pt-3"},[Object(a["createElementVNode"])("span",{class:"decorate"},"填寫資料")],-1)})),r={class:"form_container"};function s(e,t,c,o,s,d){var i=Object(a["resolveComponent"])("CartTimeLine"),u=Object(a["resolveComponent"])("UserCheckoutForm");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[l,Object(a["createVNode"])(i),Object(a["createElementVNode"])("div",r,[Object(a["createVNode"])(u)])])}var d=c("f94c"),i=(c("b0c0"),function(e){return Object(a["pushScopeId"])("data-v-62a6ea08"),e=e(),Object(a["popScopeId"])(),e}),u={class:"row mb-8 form_container"},b={class:"col-12 col-lg-6 me-auto border p-5 mb-5"},m=i((function(){return Object(a["createElementVNode"])("h3",{class:"border-bottom pb-2"},"訂購人資料",-1)})),p={class:"mb-1"},j=i((function(){return Object(a["createElementVNode"])("label",{for:"name"}," 姓名 ",-1)})),O={class:"mb-1"},f=i((function(){return Object(a["createElementVNode"])("label",{for:"email"}," E-mail ",-1)})),V={class:"mb-1"},h=i((function(){return Object(a["createElementVNode"])("label",{for:"tel",class:"form-label"},"收件人電話",-1)})),v={class:"mb-1"},N=i((function(){return Object(a["createElementVNode"])("label",{for:"category"}," 選擇付款方式 ",-1)})),x=i((function(){return Object(a["createElementVNode"])("option",{value:"",selected:"",disabled:""},"請選擇付款方式",-1)})),g=i((function(){return Object(a["createElementVNode"])("option",{value:"現金 / 限自取"},"現金 / 限自取",-1)})),E=i((function(){return Object(a["createElementVNode"])("option",{value:"信用卡付款"},"信用卡付款",-1)})),y=i((function(){return Object(a["createElementVNode"])("option",{value:"超商付款"},"超商付款",-1)})),C=i((function(){return Object(a["createElementVNode"])("option",{value:"LINE PAY"},"LINE PAY",-1)})),k={class:"mb-1"},_=i((function(){return Object(a["createElementVNode"])("label",{for:"address"}," 地址 ",-1)})),w={class:"col-12 col-lg-5 text-center justify-content-center border p-5 mb-5"},S=i((function(){return Object(a["createElementVNode"])("h3",{class:"border-bottom mb-4 pb-2"},[Object(a["createElementVNode"])("i",{class:"bi bi-credit-card-2-front-fill"}),Object(a["createTextVNode"])(" 信用卡資料 ")],-1)})),B={class:"row"},T={class:"mb-1 d-flex justify-content-center"},U=Object(a["createTextVNode"])(" - "),D=Object(a["createTextVNode"])(" - "),M=Object(a["createTextVNode"])(" - "),$=i((function(){return Object(a["createElementVNode"])("div",null,null,-1)})),z={class:"d-flex col-12 justify-content-center"},L=Object(a["createTextVNode"])(" / "),I=Object(a["createTextVNode"])(" / "),q=i((function(){return Object(a["createElementVNode"])("label",{for:"textarea"},"留言",-1)})),F=Object(a["createTextVNode"])(),P=i((function(){return Object(a["createElementVNode"])("br",null,null,-1)}));function R(e,t,c,o,n,l){var r=Object(a["resolveComponent"])("Field"),s=Object(a["resolveComponent"])("ErrorMessage"),d=Object(a["resolveComponent"])("UserCheckoutOrder"),i=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{action:"/",ref:"form",onSubmit:l.sendOrder},{default:Object(a["withCtx"])((function(e){var c=e.errors;return[Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("div",b,[m,Object(a["createElementVNode"])("div",p,[j,Object(a["createVNode"])(r,{id:"name",name:"姓名",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:n.form.user.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.form.user.name=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(s,{name:"姓名",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",O,[f,Object(a["createVNode"])(r,{type:"email",id:"email",placeholder:"請輸入E-mail",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["信箱"]}]),name:"信箱",rules:"email|required",modelValue:n.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.form.user.email=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(s,{name:"信箱",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",V,[h,Object(a["createVNode"])(r,{id:"tel",name:"電話",type:"tel",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["電話"]}]),rules:l.isPhone,placeholder:"請輸入電話 / 例：09xxxxxxxx",maxlength:"10",modelValue:n.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.form.user.tel=e})},null,8,["class","rules","modelValue"]),Object(a["createVNode"])(s,{name:"電話",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",v,[N,Object(a["createVNode"])(r,{id:"category",name:"付款方式",class:Object(a["normalizeClass"])(["form-control form-select",{"is-invalid":c["付款方式"]}]),rules:"required",as:"select",modelValue:n.form.user.pay_method,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.form.user.pay_method=e})},{default:Object(a["withCtx"])((function(){return[x,g,E,y,C]})),_:2},1032,["class","modelValue"]),Object(a["createVNode"])(s,{name:"付款方式",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",k,[_,Object(a["createVNode"])(r,{type:"address",id:"address",placeholder:"請輸入地址",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["地址"]}]),name:"地址",rules:"required",modelValue:n.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.form.user.address=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(s,{name:"地址",class:"invalid-feedback"})])]),Object(a["createElementVNode"])("div",w,[S,Object(a["createElementVNode"])("div",B,[Object(a["createElementVNode"])("div",T,[Object(a["createVNode"])(r,{id:"",name:"卡號",type:"text",class:Object(a["normalizeClass"])(["form-control mb-3",{"is-invalid":c["卡號"]}]),placeholder:"0000",rules:"required",style:{width:"70px",height:"30px"},maxlength:"4",modelValue:n.form.user.card1,"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.form.user.card1=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(s,{name:"卡號",class:"invalid-feedback"}),U,Object(a["createVNode"])(r,{id:"",name:"卡號2",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["卡號2"]}]),placeholder:"0000",rules:"required",style:{width:"70px",height:"30px"},maxlength:"4",modelValue:n.form.user.card2,"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.form.user.card2=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(s,{name:"卡號2",class:"invalid-feedback"}),D,Object(a["createVNode"])(r,{id:"",name:"卡號3",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["卡號3"]}]),placeholder:"0000",rules:"required",style:{width:"70px",height:"30px"},maxlength:"4",modelValue:n.form.user.card3,"onUpdate:modelValue":t[7]||(t[7]=function(e){return n.form.user.card3=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(s,{name:"卡號3",class:"invalid-feedback"}),M,Object(a["createVNode"])(r,{id:"",name:"卡號4",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["卡號4"]}]),placeholder:"0000",rules:"required",style:{width:"70px",height:"30px"},maxlength:"4",modelValue:n.form.user.card4,"onUpdate:modelValue":t[8]||(t[8]=function(e){return n.form.user.card4=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(s,{name:"卡號4",class:"invalid-feedback"}),$]),Object(a["createElementVNode"])("div",z,[Object(a["createVNode"])(r,{id:"",name:"卡號5",type:"text",class:Object(a["normalizeClass"])(["form-control mb-2",{"is-invalid":c["卡號5"]}]),placeholder:"1/1",rules:"required",style:{width:"70px",height:"30px"},maxlength:"3",modelValue:n.form.user.card5,"onUpdate:modelValue":t[9]||(t[9]=function(e){return n.form.user.card5=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(s,{name:"卡號5",class:"invalid-feedback"}),L,Object(a["createVNode"])(r,{id:"",name:"卡號6",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["卡號6"]}]),placeholder:"123",rules:"required",style:{width:"70px",height:"30px"},maxlength:"3",modelValue:n.form.user.card6,"onUpdate:modelValue":t[10]||(t[10]=function(e){return n.form.user.card6=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(s,{name:"卡號6",class:"invalid-feedback"}),I,Object(a["createVNode"])(r,{id:"",name:"持卡者名稱",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["持卡者名稱"]}]),placeholder:"英文名稱",rules:"required",style:{width:"150px",height:"30px"},maxlength:"3",modelValue:n.form.user.card_username,"onUpdate:modelValue":t[11]||(t[11]=function(e){return n.form.user.card_username=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(s,{name:"持卡者名稱",class:"invalid-feedback"})])]),q,F,P,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{name:"留言",id:"textarea",class:"textarea",cols:"30",rows:"8","onUpdate:modelValue":t[12]||(t[12]=function(e){return n.form.message=e})},null,512),[[a["vModelText"],n.form.message]])]),Object(a["createVNode"])(d)])]})),_:1},8,["onSubmit"])}c("99af"),c("ac1f"),c("00b4");var A=function(e){return Object(a["pushScopeId"])("data-v-4452c9a8"),e=e(),Object(a["popScopeId"])(),e},J={class:"col-12 border pt-5"},Y=A((function(){return Object(a["createElementVNode"])("h3",{class:"border-bottom text-center pb-2 mb-3"},"訂單明細",-1)})),W=["src"],X={class:"lh-1 py-3"},G={class:"opacity-50 me-1"},H=Object(a["createTextVNode"])(" 小計："),K={class:"text-danger"},Q={class:"table align-middle text-center text-primary table-hover w-100 mx-auto d-none d-md-table"},Z=A((function(){return Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",null,"圖片"),Object(a["createElementVNode"])("th",null,"名稱"),Object(a["createElementVNode"])("th",null,"數量"),Object(a["createElementVNode"])("th",null,"金額")])],-1)})),ee=["src"],te=A((function(){return Object(a["createElementVNode"])("td",null,null,-1)})),ce=A((function(){return Object(a["createElementVNode"])("td",null,null,-1)})),ae=A((function(){return Object(a["createElementVNode"])("td",null,null,-1)})),oe={key:0,class:"d-flex padding-clear mt-3 d-none d-lg-inline-block"},ne={key:0,class:"fw-bold fs-5 mt-3 text-end"},le=Object(a["createTextVNode"])(" 已使用優惠券 "),re=A((function(){return Object(a["createElementVNode"])("span",{class:"copy_point badge"},[Object(a["createElementVNode"])("i",{class:"bi bi-check-lg fs-4"})],-1)})),se=[le,re],de={class:"d-lg-flex justify-content-between padding-clear finalSteps-bg d-none d-lg-inline-block"},ie=Object(a["createTextVNode"])("上一步"),ue={class:"d-flex justify-content-between"},be={key:0,class:"text-center me-5"},me=Object(a["createTextVNode"])(" 您省下了 "),pe={class:"finalSteps-text-fs-3"},je=Object(a["createTextVNode"])(" 元 "),Oe={class:"text-center me-5"},fe=Object(a["createTextVNode"])(" 總金額： "),Ve=Object(a["createTextVNode"])(" 元 "),he={key:1,type:"submit",class:"btn btn-danger send-btn active_bigger fs-4 animation_hover",title:"前往結帳流程"},ve={key:1,class:"padding-clear d-lg-none mt-5"},Ne={key:0,class:"fs-5 mt-3 text-center finalSteps-bg w-100 mb-0"},xe=Object(a["createTextVNode"])(" 已使用優惠券 "),ge=A((function(){return Object(a["createElementVNode"])("span",{class:"copy_point badge"},[Object(a["createElementVNode"])("i",{class:"bi bi-check-lg fs-4"})],-1)})),Ee=[xe,ge],ye={key:1,class:"text-center me-5 finalSteps-bg w-100 mb-0"},Ce=Object(a["createTextVNode"])(" 您省下了 "),ke={class:"finalSteps-text-fs-3 fw-bold"},_e=Object(a["createTextVNode"])(" 元 "),we={class:"text-center me-5 finalSteps-bg w-100 mb-0"},Se=Object(a["createTextVNode"])(" 總金額： "),Be=Object(a["createTextVNode"])(" 元 "),Te=A((function(){return Object(a["createElementVNode"])("button",{type:"submit",class:"btn btn-danger send-btn active_bigger fs-4 animation_hover w-100 d-lg-none",title:"前往結帳流程"}," 下一步 ",-1)})),Ue=Object(a["createTextVNode"])("上一步"),De=A((function(){return Object(a["createElementVNode"])("div",{class:"cssload-container"},[Object(a["createElementVNode"])("div",{class:"cssload-dot"}),Object(a["createElementVNode"])("div",{class:"step",id:"cssload-s1"}),Object(a["createElementVNode"])("div",{class:"step",id:"cssload-s2"}),Object(a["createElementVNode"])("div",{class:"step",id:"cssload-s3"})],-1)}));function Me(e,t,c,o,n,l){var r=Object(a["resolveComponent"])("router-link"),s=Object(a["resolveComponent"])("Loading"),d=Object(a["resolveComponent"])("UserCheckCouponModal");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",J,[Y,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.cartData,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:t.product.id,class:"d-flex align-items-center justify-content-center d-md-none border mb-3"},[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("img",{class:"img_productRWD img-fluid me-2",src:"".concat(t.product.imageUrl)},null,8,W)]),Object(a["createElementVNode"])("div",X,[Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(t.product.title),1),Object(a["createElementVNode"])("p",null,"數量："+Object(a["toDisplayString"])(t.qty)+" 個",1),Object(a["createElementVNode"])("p",null,[Object(a["createElementVNode"])("del",G,"$"+Object(a["toDisplayString"])(t.product.origin_price),1),Object(a["createTextVNode"])(" $"+Object(a["toDisplayString"])(t.product.price),1)]),H,Object(a["createElementVNode"])("span",K,Object(a["toDisplayString"])(e.$thousandths(t.final_total)),1)])])})),128)),Object(a["createElementVNode"])("table",Q,[Z,Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.cartData,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:t.product.id},[Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("img",{class:"img_product mx-auto img-fluid",src:"".concat(t.product.imageUrl)},null,8,ee)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(t.product.title),1)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(t.qty)+"個",1)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(e.$thousandths(t.total))+" 元",1)])])})),128))]),Object(a["createElementVNode"])("tfoot",null,[te,ce,ae,Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("p",{class:Object(a["normalizeClass"])([{"text-success":n.has_coupon},"fs-5"])},Object(a["toDisplayString"])(e.$thousandths(n.total))+" 元 ",3)])])])]),n.cartData.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",oe,[n.has_coupon?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",ne,se)):Object(a["createCommentVNode"])("",!0),n.has_coupon?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:1,type:"button",class:"btn btn-success send-btn active_bigger fs-4 animation_hover mb-2 btn-sm d-block ms-auto",title:"使用優惠券",onClick:t[0]||(t[0]=function(e){return l.openCouponModal("開啟")})}," 使用優惠券 "))])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",de,[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(r,{to:"/cart",class:"btn btn-secondary active_bigger fs-4 animation_hover d-block btn-lg",title:"上一步"},{default:Object(a["withCtx"])((function(){return[ie]})),_:1})]),Object(a["createElementVNode"])("div",ue,[n.has_coupon?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",be,[me,Object(a["createElementVNode"])("span",pe,Object(a["toDisplayString"])(e.$thousandths(n.coupon_price)),1),je])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("p",Oe,[fe,Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])([{"text-success":n.has_coupon},"finalSteps-text-fs-3 fw-bold"])},Object(a["toDisplayString"])(e.$thousandths(n.total)),3),Ve]),n.cartData.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",he," 下一步 ")):Object(a["createCommentVNode"])("",!0)])]),n.cartData.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ve,[n.has_coupon?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",Ne,Ee)):Object(a["createCommentVNode"])("",!0),n.has_coupon?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",ye,[Ce,Object(a["createElementVNode"])("span",ke,Object(a["toDisplayString"])(e.$thousandths(n.coupon_price)),1),_e])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("p",we,[Se,Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])([{"text-success":n.has_coupon},"finalSteps-text-fs-3 fw-bold"])},Object(a["toDisplayString"])(e.$thousandths(n.total)),3),Be]),n.has_coupon?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:2,type:"button",class:"btn btn-success send-btn active_bigger fs-4 animation_hover mb-2 w-100 d-lg-none",title:"使用優惠券",onClick:t[1]||(t[1]=function(e){return l.openCouponModal("開啟")})}," 使用優惠券 ")),Te])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(r,{to:"/cart",class:"btn btn-secondary active_bigger fs-4 animation_hover w-100 mt-5 d-lg-none",title:"上一步"},{default:Object(a["withCtx"])((function(){return[Ue]})),_:1}),Object(a["createVNode"])(s,{active:n.isLoading,"onUpdate:active":t[2]||(t[2]=function(e){return n.isLoading=e})},{default:Object(a["withCtx"])((function(){return[De]})),_:1},8,["active"]),Object(a["createVNode"])(d,{onUseCoupon:l.useCoupon},null,8,["onUseCoupon"])],64)}var $e=function(e){return Object(a["pushScopeId"])("data-v-15ea405a"),e=e(),Object(a["popScopeId"])(),e},ze={class:"modal",tabindex:"-1"},Le={class:"modal-dialog modal-dialog-centered"},Ie={class:"modal-content"},qe=$e((function(){return Object(a["createElementVNode"])("div",{class:"modal-header"},[Object(a["createElementVNode"])("h5",{class:"modal-title text-primary fw-bold"},"優惠券"),Object(a["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),Fe={class:"modal-body"},Pe=$e((function(){return Object(a["createElementVNode"])("label",{for:"couponCodeText",class:"text-center d-block mb-1"},"輸入優惠碼",-1)})),Re={key:0,class:"text-danger"},Ae=Object(a["createStaticVNode"])('<br data-v-15ea405a><div class="accordion" id="accordionExample" data-v-15ea405a><div class="accordion-item mt-5" aria-expanded="true" data-v-15ea405a><h2 class="accordion-header" id="headingOne" data-v-15ea405a><button class="accordion-button q1" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-controls="collapseOne" data-v-15ea405a> 查看全站優惠券 </button></h2><div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample" data-v-15ea405a><div class="accordion-body" data-v-15ea405a><ul class="list-style" data-v-15ea405a><li data-v-15ea405a>小巷弄限定優惠</li><li data-v-15ea405a> 優惠碼：<span class="text-success fw-bold" data-v-15ea405a>my_coupon</span></li><li data-v-15ea405a>折扣 <span class="text-success fw-bold" data-v-15ea405a>50</span> %</li><li data-v-15ea405a> 到期日：<span class="text-success fw-bold" data-v-15ea405a>2026-10-31</span></li></ul></div></div></div></div>',2),Je={class:"modal-footer"},Ye=$e((function(){return Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary","data-bs-dismiss":"modal"}," 取消 ",-1)}));function We(e,t,c,o,n,l){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ze,[Object(a["createElementVNode"])("div",Le,[Object(a["createElementVNode"])("div",Ie,[qe,Object(a["createElementVNode"])("div",Fe,[Pe,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.couponCodeText=e}),class:"text-center w-100",id:"couponCodeText"},null,512),[[a["vModelText"],n.couponCodeText]]),n.couponCodeText?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",Re,"*查詢不到您輸入的優惠代碼！")),Ae]),Object(a["createElementVNode"])("div",Je,[Ye,Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-success",onClick:t[1]||(t[1]=function(t){return e.$emit("useCoupon",n.couponCodeText)})}," 使用優惠券 ")])])])])}var Xe=c("7c2b"),Ge=c.n(Xe),He=c("b311"),Ke=c.n(He),Qe={inject:["emitter"],data:function(){return{couponModal:"",copy_point:!1,couponCodeText:"my_coupon",couponCopy:"my_coupon",emits:["useCoupon"],orderId:""}},methods:{copy:function(){var e=this,t=new Ke.a(".tag-read");t.on("success",(function(c){e.$httpMessageState(!0,"複製"),e.copy_point=!0,t.destroy()})),t.on("error",(function(c){e.$httpMessageState(!1,"該瀏覽器不支援，複製"),t.destroy()}))}},mounted:function(){var e=this;this.couponModal=new Ge.a(document.querySelector(".modal")),this.emitter.on("openCouponModal",(function(t){"開啟"===t?e.couponModal.show():"關閉"===t?e.couponModal.hide():"錯誤"===t&&(e.couponCodeText="")}))},unmounted:function(){this.emitter.off("openCouponModal")}},Ze=(c("4749"),c("d959")),et=c.n(Ze);const tt=et()(Qe,[["render",We],["__scopeId","data-v-15ea405a"]]);var ct=tt,at={inject:["emitter"],components:{UserCheckCouponModal:ct},data:function(){return{cartData:[],total:0,has_coupon:!1,coupon_discount:0,coupon_price:0,isLoading:!1}},methods:{getCartList:function(e){var t=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("mizupath72","/cart");this.$http.get(c).then((function(c){t.isLoading=!1,t.cartData=c.data.data.carts;var a=c.data.data.total;t.total=a;var o=c.data.data.final_total,n="";a>o&&(n=c.data.data.carts[0].coupon.code),(e||n)&&(t.total=o,t.coupon_price=a-o,t.has_coupon=!0)}))},useCoupon:function(e){var t=this;this.isLoading=!0;var c={code:e},a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("mizupath72","/coupon");this.$http.post(a,{data:c}).then((function(e){t.isLoading=!1,t.$httpMessageState(e.data.success,"使用優惠券");var c=e.data.data.success;t.getCartList(c),t.couponCodeText="",t.openCouponModal("關閉")})).catch((function(e){t.isLoading=!1,t.couponCodeText="",t.openCouponModal("錯誤"),t.$httpMessageState(e.response.data.success,"找不到優惠券，折扣")}))},openCouponModal:function(e){this.emitter.emit("openCouponModal",e)}},mounted:function(){this.getCartList()}};c("b8e1");const ot=et()(at,[["render",Me],["__scopeId","data-v-4452c9a8"]]);var nt=ot,lt={inject:["emitter"],components:{UserCheckoutOrder:nt},data:function(){return{cartData:[],form:{user:{name:"王先生",email:"123456@gmail.com",tel:"0999999123",address:"台北",pay_method:"超商付款",card1:"123",card2:"312",card3:"312",card4:"312",card5:"312",card6:"312",card_username:"王先生的卡片"},message:"你好"}}},methods:{sendOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("mizupath72","/order");this.$http.post(t,{data:this.form}).then((function(t){var c=t.data.orderId;e.$router.push("/order_confirm/".concat(c))})).catch((function(){e.$httpMessageState(!1,"購物車為空，發送訂單"),e.$router.push("/products")}))},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"*請輸入 09 開頭的正確電話號碼"}}};c("bc9f");const rt=et()(lt,[["render",R],["__scopeId","data-v-62a6ea08"]]);var st=rt,dt={components:{CartTimeLine:d["a"],UserCheckoutForm:st}};c("9d19");const it=et()(dt,[["render",s],["__scopeId","data-v-27d917a0"]]);t["default"]=it},"9d19":function(e,t,c){"use strict";c("f501")},b0c0:function(e,t,c){var a=c("83ab"),o=c("5e77").EXISTS,n=c("e330"),l=c("9bf2").f,r=Function.prototype,s=n(r.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,i=n(d.exec),u="name";a&&!o&&l(r,u,{configurable:!0,get:function(){try{return i(d,s(this))[1]}catch(e){return""}}})},b8e1:function(e,t,c){"use strict";c("8310")},bc9f:function(e,t,c){"use strict";c("4bda")},f501:function(e,t,c){}}]);
//# sourceMappingURL=chunk-b890e20e.3221642b.js.map